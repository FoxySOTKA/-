# Домашнее задание к занятию «Отказоустойчивость в облаке»

## Выполнил Савицкий Андрей

### Задание 1 

##### Возьмите за основу решение к заданию 1 из занятия «Подъём инфраструктуры в Яндекс Облаке».

1. Теперь вместо одной виртуальной машины сделайте terraform playbook, который:
- создаст 2 идентичные виртуальные машины;
- создаст таргет-группу. Поместите в неё созданные на шаге 1 виртуальные машины;
- создаст сетевой балансировщик нагрузки, который слушает на порту 80, отправляет трафик на порт 80 виртуальных машин и http healthcheck на порт 80 виртуальных машин.

##### Рекомендуем изучить документацию сетевого балансировщика нагрузки для того, чтобы было понятно, что вы сделали.

2. Установите на созданные виртуальные машины пакет Nginx любым удобным способом и запустите Nginx веб-сервер на порту 80.

3. Перейдите в веб-консоль Yandex Cloud и убедитесь, что: 
- созданный балансировщик находится в статусе Active,
- обе виртуальные машины в целевой группе находятся в состоянии healthy.

4. Сделайте запрос на 80 порт на внешний IP-адрес балансировщика и убедитесь, что вы получаете ответ в виде дефолтной страницы Nginx.

##### В качестве результата пришлите:
- Terraform Playbook.
- Скриншоты статуса балансировщика и целевой группы.
- Скриншот страницы, которая открылась при запросе IP-адреса балансировщика.

#### Результат
- Terraform Playbook:
###### здесь содержание main.tf
https://github.com/FoxySOTKA/-/blob/main/main.tf.cong
###### здесь содержание meta.yaml
https://github.com/FoxySOTKA/-/blob/main/meta.yaml.conf

- Скриншоты статуса балансировщика и целевой группы
 <img width="559" alt="статус балансировщика" src="https://github.com/FoxySOTKA/-/assets/141597247/c31c262a-fd5a-49ec-a44e-99a46dbc094d">

<img width="478" alt="статус целевой группы" src="https://github.com/FoxySOTKA/-/assets/141597247/5d2b9887-b65a-4d0c-95bc-c37bb761ce13">

<img width="266" alt="статусс" src="https://github.com/FoxySOTKA/-/assets/141597247/dda918db-021a-46a6-8ae6-c76790df7fbf">

- Скриншот страницы, которая открылась при запросе IP-адреса балансировщика
<img width="557" alt="страница запроса ip" src="https://github.com/FoxySOTKA/-/assets/141597247/3b7ba462-71ea-48f2-bd72-3205b8305d80">
